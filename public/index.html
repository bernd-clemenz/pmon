<!DOCTYPE html>
<html>
  <head>
      <meta charset="UTF-8">
      <title>ISC Pmon UI</title>
      <link href="js/jquery-ui.min.css" rel="stylesheet">
      <link href="js/jquery-ui.structure.min.css" rel="stylesheet">
      <link href="js/jquery-ui.theme.min.css" rel="stylesheet">
      <style>
        body     { font-family: "Gill Sans Extrabold", Helvetica, sans-serif }
      </style>
  </head>
  <body>

    <table id="statusTbl" class="ui-widget">
        <thead class="ui-widget-header">
          <th>url</th>
          <th>result</th>
          <th>time</th>
          <th>message</th>
          <th>ssh</th>
        </thead>
        <tbody class="ui-widget-content"></tbody>
    </table>

    <script  src="js/jquery-3.3.1.min.js"></script>
    <script  src="js/jquery-ui.min.js"></script>
    <script>
      $(document).ready(function() {
        $('#statusTbl').hide();
        $.getJSON('/', function(data) {
          var lines = []
          $.each(data['data'],function(url,details) {
            var bgr = "white";
            switch(details['result']) {
              case "SUCCESS" : bgr = 'green'; break;
              case "APPLICATION_ERROR": bgr = 'yellow'; break;
              case "EXCEPTION_ERROR": bgr = 'red'; break;
              default: bgr="white";
            }
            var resCellCol = 'style="background-color: ' + bgr + '; font-weight: bold; color: white;"';
            var ssh = details['ssh'];
            if(undefined === ssh || null === ssh) {
              ssh = '';
            }
            lines.push('<tr class="ui-widget-content"><td class="ui-widget-content"><a href="' + url + '" target="_blank">' + url + '</td><td class="ui-widget-content" ' + resCellCol + '>' + details['result'] +'</td><td class="ui-widget-content">' + details['time'] +'</td><td class="ui-widget-content">' + details['message'] + '</td><td class="ui-widget-content">' + ssh +'</td></tr>');
          });
          var tblLines = lines.join("");
          //console.log(tblLines);
          $('#statusTbl tbody').append(tblLines);
          $('#statusTbl').show();
        });
      });
    </script>
  </body>
</html>